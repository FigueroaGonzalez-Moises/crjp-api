(this["webpackJsonpproducts-api-ui"]=this["webpackJsonpproducts-api-ui"]||[]).push([[0],{119:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var c,a,r,s,i,d,o,l,j,u,b,m,p,h,x,O,g,v,f,N,y,w,k,_=n(45),F=n.n(_),C=n(9),I=n.n(C),S=n(12),$=n(7),A=n(2),P="",q=function(e){P=e},B=function(){return P},E=n(17),T=n(108),L=n(16),D=n(64),z=n(0),R=function(){var e=B();if(!e)return!1;try{var t=Object(D.a)(e).exp;return!(Date.now()>=1e3*t)}catch(n){return!1}},U=function(e){var t=e.component,n=Object(T.a)(e,["component"]);return Object(z.jsx)(L.b,Object(E.a)(Object(E.a)({},n),{},{render:function(e){return R()?Object(z.jsx)(t,Object(E.a)({},e)):Object(z.jsx)(L.a,{to:"/dashboard"})}}))},W=(n(119),function(){return Object(z.jsx)("div",{children:Object(z.jsx)("nav",{className:"white z-depth-0",style:{borderBottom:"1px solid #dfe0e6"},children:Object(z.jsx)("div",{className:"nav-wrapper",children:Object(z.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:Object(z.jsxs)("ul",{id:"nav-mobile",className:"center ",children:[Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"black-text",href:"#/orders",children:"Orders"})}),Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"black-text",href:"#/products",children:"Products"})}),Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"black-text",href:"#/coupons",children:"Coupons"})}),Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"black-text",href:"#/announcements",children:"Announcements"})}),Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"black-text",href:"#/maintenance",children:"Maintenance"})}),Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"black-text",href:"#/edit-socials",children:"Edit Socials"})}),Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"black-text",href:"#/edit-users",children:"Users"})})]})})})})})}),Q=function(e){var t=e.children;return Object(z.jsxs)("div",{className:"pageWrapper",children:[Object(z.jsx)(W,{}),t||Object(z.jsx)(z.Fragment,{})]})},H=n(18),X=n(8),J=Object(X.gql)(c||(c=Object(H.a)(["\n    mutation addAnnouncement($text: String!) {\n  addAnnouncement(text: $text)\n}\n    "])));var G=Object(X.gql)(a||(a=Object(H.a)(["\n    mutation addApiUser($username: String!, $password: String!) {\n  addApiUser(username: $username, password: $password)\n}\n    "])));var V=Object(X.gql)(r||(r=Object(H.a)(["\n    mutation addCoupon($coupon_name: String!, $discount: String!) {\n  addCoupon(coupon_name: $coupon_name, discount: $discount)\n}\n    "])));var Y=Object(X.gql)(s||(s=Object(H.a)(["\n    mutation addImgToProduct($img_url: String!, $product_id: Float!) {\n  addImgToProduct(img_url: $img_url, product_id: $product_id)\n}\n    "])));function K(e){return X.useMutation(Y,e)}var Z=Object(X.gql)(i||(i=Object(H.a)(["\n    mutation addProduct($name: String!, $desc: String!, $price: Float!, $stock: Float!) {\n  addProduct(name: $name, desc: $desc, price: $price, stock: $stock)\n}\n    "])));var ee=Object(X.gql)(d||(d=Object(H.a)(["\n    mutation apiLogin($username: String!, $password: String!) {\n  apiLogin(username: $username, password: $password) {\n    accessToken\n    refreshToken\n  }\n}\n    "])));var te=Object(X.gql)(o||(o=Object(H.a)(["\n    mutation deleteAnnouncement($id: String!) {\n  deleteAnnouncement(id: $id)\n}\n    "])));var ne=Object(X.gql)(l||(l=Object(H.a)(["\n    mutation deleteApiUser($uuid: Float!) {\n  deleteApiUser(uuid: $uuid)\n}\n    "])));var ce=Object(X.gql)(j||(j=Object(H.a)(["\n    mutation deleteCoupon($coupon_name: String!) {\n  deleteCoupon(coupon_name: $coupon_name)\n}\n    "])));var ae=Object(X.gql)(u||(u=Object(H.a)(["\n    mutation deleteProduct($product_id: Float!) {\n  deleteProduct(product_id: $product_id)\n}\n    "])));var re=Object(X.gql)(b||(b=Object(H.a)(["\n    mutation editTracking($new_tracking_num: String!, $order_id: Float!) {\n  editTracking(new_tracking_num: $new_tracking_num, order_id: $order_id)\n}\n    "])));var se=Object(X.gql)(m||(m=Object(H.a)(["\n    query getAnnouncements {\n  getAnnouncements {\n    id\n    text\n  }\n}\n    "])));var ie=Object(X.gql)(p||(p=Object(H.a)(["\n    query getApiUsers {\n  getApiUsers {\n    uuid\n    username\n  }\n}\n    "])));var de=Object(X.gql)(h||(h=Object(H.a)(["\n    query getCoupons {\n  getCoupons {\n    coupon_name\n    coupon_id\n    discount\n  }\n}\n    "])));var oe=Object(X.gql)(x||(x=Object(H.a)(["\n    query getMaintenance {\n  getMaintenance\n}\n    "])));var le=Object(X.gql)(O||(O=Object(H.a)(["\n    query getOrderById($order_id: Float!) {\n  getOrderById(order_id: $order_id) {\n    products {\n      product_id\n      name\n      desc\n      price\n      stock\n      exp_date\n      quantityOrdered\n      productSubtotal\n      images {\n        img_id\n        img_url\n        index\n      }\n    }\n    order_id\n    tracking_num\n    shipping\n    warning\n    order_total\n    coupon\n    discount\n    date_of_purchase\n  }\n}\n    "])));var je=Object(X.gql)(g||(g=Object(H.a)(["\n    query getOrders {\n  getOrders {\n    products {\n      product_id\n      name\n      desc\n      price\n      stock\n      exp_date\n      quantityOrdered\n      productSubtotal\n      images {\n        img_id\n        img_url\n        index\n      }\n    }\n    order_id\n    tracking_num\n    order_total\n    coupon\n    discount\n    shipping\n    warning\n    date_of_purchase\n  }\n}\n    "])));var ue=Object(X.gql)(v||(v=Object(H.a)(["\n    query getProduct($product_id: Float!) {\n  getProduct(product_id: $product_id) {\n    product_id\n    name\n    desc\n    price\n    stock\n    exp_date\n    images {\n      img_id\n      img_url\n    }\n  }\n}\n    "])));var be=Object(X.gql)(f||(f=Object(H.a)(["\n    query getProducts {\n  getProducts {\n    product_id\n    name\n    desc\n    price\n    stock\n    exp_date\n    images {\n      img_id\n      img_url\n    }\n  }\n}\n    "])));var me=Object(X.gql)(N||(N=Object(H.a)(["\n    mutation removeImgFromProduct($img_id: Float!) {\n  removeImgFromProduct(img_id: $img_id)\n}\n    "])));var pe=Object(X.gql)(y||(y=Object(H.a)(["\n    mutation removeWarning($order_id: Float!) {\n  removeWarning(order_id: $order_id)\n}\n    "])));var he=Object(X.gql)(w||(w=Object(H.a)(["\n    mutation toggleMaintenance {\n  toggleMaintenance\n}\n    "])));var xe=Object(X.gql)(k||(k=Object(H.a)(["\n    mutation updateProduct($product_id: Float!, $name: String!, $desc: String!, $price: Float!, $stock: Float!) {\n  updateProduct(\n    product_id: $product_id\n    name: $name\n    desc: $desc\n    price: $price\n    stock: $stock\n  )\n}\n    "])));var Oe=n(69),ge=n(68),ve=n.n(ge),fe=function(){var e,t=X.useMutation(Z,e),n=Object($.a)(t,1)[0],c=K(),a=Object($.a)(c,1)[0],r=Object(A.useState)(""),s=Object($.a)(r,2),i=s[0],d=s[1],o=Object(A.useState)(""),l=Object($.a)(o,2),j=l[0],u=l[1],b=Object(A.useState)(""),m=Object($.a)(b,2),p=m[0],h=m[1],x=Object(A.useState)(""),O=Object($.a)(x,2),g=O[0],v=O[1],f=Object(A.useState)([]),N=Object($.a)(f,2),y=N[0],w=N[1],k=Object(A.useState)(!1),_=Object($.a)(k,2),F=_[0],C=_[1],P=Object(A.useState)(!1),q=Object($.a)(P,2),B=q[0],T=q[1],D=function(){var e=Object(S.a)(I.a.mark((function e(){var t,c,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&j&&p&&g){e.next=4;break}Ne(i,j,p,g),e.next=21;break;case 4:return e.prev=4,e.next=7,n({variables:{name:i,desc:j,price:Number(p),stock:Number(g)}});case 7:c=e.sent,r=0;case 9:if(!(r<y.length)){e.next=15;break}return e.next=12,a({variables:{img_url:y[r],product_id:Number(c.data.addProduct)}});case 12:r++,e.next=9;break;case 15:T(!0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),M.toast({html:"Could not add product"});case 21:null===(t=document.getElementById("submit-btn"))||void 0===t||t.classList.remove("disabled");case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(S.a)(I.a.mark((function e(t){var n,c,a,r,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=18;break}return(c=new FormData).append("api_key","767632178961832"),c.append("file",t[n]),c.append("tags","codeinfuse, medium, gist"),c.append("upload_preset","re5zmdqn"),a=Date.now()/1e3|0,c.append("timestamp","".concat(a)),e.next=11,ve.a.post("https://api.cloudinary.com/v1_1/desimqzzy/image/upload",c,{headers:{"X-Requested-With":"XMLHttpRequest"}});case 11:r=e.sent,(s=y).push(r.data.secure_url),w(s);case 15:n++,e.next=1;break;case 18:C(!F);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return B?Object(z.jsx)(L.a,{to:{pathname:"/products",state:{reload:!0}}}):Object(z.jsxs)("div",{className:"container",style:{width:"50%"},children:[Object(z.jsx)("div",{className:"row",children:Object(z.jsx)("h5",{children:"Add A Product"})}),Object(z.jsxs)("form",{children:[Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"name",type:"text",value:i,onChange:function(e){return d(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"name",children:"Name"}),Object(z.jsx)("span",{className:"helper-text","data-error":"Please enter a product name"})]})}),Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("textarea",{id:"desc",value:j,className:"materialize-textarea",onChange:function(e){return u(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"desc",children:"Description"}),Object(z.jsx)("span",{className:"helper-text","data-error":"Please enter a product description"})]})}),Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"price",type:"text",value:p,onChange:function(e){e.target.value||h(e.target.value),e.target.value.match(/\d/g)&&h(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"price",children:"Price"}),Object(z.jsx)("span",{className:"helper-text","data-error":"Please enter a product price"})]})}),Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"stock",type:"text",value:g,onChange:function(e){e.target.value||v(e.target.value),e.target.value.match(/\d/g)&&v(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"stock",children:"Stock"}),Object(z.jsx)("span",{className:"helper-text","data-error":"Please enter a stock amount"})]})}),Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(z.jsx)("button",{id:"submit-btn",className:"btn green",onClick:function(){document.getElementById("submit-btn").classList.add("disabled"),D()},children:"Submit"}),Object(z.jsx)(Oe.a,{onDrop:function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(z.jsxs)("div",Object(E.a)(Object(E.a)({},t()),{},{children:[Object(z.jsx)("input",Object(E.a)({},n())),Object(z.jsx)("button",{className:"btn black",children:"Add Images"})]}))}})]})})]}),0===y.length?Object(z.jsx)(z.Fragment,{}):Object(z.jsx)(z.Fragment,{children:y.map((function(e,t){return Object(z.jsx)("img",{src:y[t]})}))})]})},Ne=function(e,t,n,c){for(var a=["name","desc","price","stock"],r=document,s=0;s<a.length;s++)try{r.getElementById(a[s]).classList.remove("invalid")}catch(i){}e||r.getElementById("name").classList.add("invalid"),t||r.getElementById("desc").classList.add("invalid"),n||r.getElementById("price").classList.add("invalid"),c||r.getElementById("stock").classList.add("invalid")},ye=n(19),we=n.n(ye),ke=function(){var e,t=X.useQuery(se,e),n=t.data,c=t.loading,a=t.error,r=function(e){return X.useMutation(J,e)}(),s=Object($.a)(r,1)[0],i=function(e){return X.useMutation(te,e)}(),d=Object($.a)(i,1)[0],o=Object(A.useState)(!1),l=Object($.a)(o,2),j=l[0],u=l[1],b=Object(A.useState)(""),m=Object($.a)(b,2),p=m[0],h=m[1];if(Object(A.useEffect)((function(){we.a.AutoInit()})),c)return Object(z.jsx)(z.Fragment,{children:"...loading"});if(!n||a)return console.log("error :>> ",a),we.a.toast({html:"".concat(a)}),Object(z.jsx)("div",{className:"centered",children:Object(z.jsx)("h1",{className:"red-text",children:"An Error has occurred"})});var x=n.getAnnouncements;return Object(z.jsxs)("div",{className:"container",children:[Object(z.jsx)("h1",{className:"center-align",children:"Announcements"}),0===x.length?Object(z.jsx)("h4",{className:"center-align",children:"NONE"}):Object(z.jsx)(z.Fragment,{children:x.map((function(e,t){return Object(z.jsxs)("div",{className:"container",style:{display:"flex",justifyContent:"space-between"},children:[Object(z.jsx)("h4",{className:"center-align",children:x[t].text}),Object(z.jsx)("i",{className:"material-icons red-text noselect",onClick:Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d({variables:{id:x[t].id}});case 3:window.location.reload(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),we.a.toast({html:"An error occured"}),we.a.toast({html:"Could not add Announcement"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"delete"})]},t)}))}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(z.jsx)("button",{className:"btn black",onClick:function(){u(!0)},children:"Add an Announcement"})}),j?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"text_1",className:"validate",type:"text",value:p,onChange:function(e){return h(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"text_1",children:"Announcement Text"})]}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(z.jsx)("button",{className:"btn green",onClick:Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=11;break}return e.prev=1,e.next=4,s({variables:{text:p}});case 4:window.location.reload(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),we.a.toast({html:"An error occured"}),we.a.toast({html:"Could not add Announcement"});case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),children:"Confirm"})})]}):Object(z.jsx)(z.Fragment,{})]})},_e=function(){var e,t=X.useQuery(de,e),n=t.data,c=t.loading,a=t.error,r=function(e){return X.useMutation(V,e)}(),s=Object($.a)(r,1)[0],i=function(e){return X.useMutation(ce,e)}(),d=Object($.a)(i,1)[0],o=Object(A.useState)(""),l=Object($.a)(o,2),j=l[0],u=l[1],b=Object(A.useState)(""),m=Object($.a)(b,2),p=m[0],h=m[1],x=Object(A.useState)(!1),O=Object($.a)(x,2),g=O[0],v=O[1],f=Object(A.useState)(!1),N=Object($.a)(f,2),y=N[0],w=N[1];return Object(A.useEffect)((function(){var e=document.querySelectorAll(".modal");we.a.Modal.init(e),e=document.querySelectorAll(".dropdown-trigger"),we.a.Dropdown.init(e),we.a.AutoInit()})),c?Object(z.jsx)(z.Fragment,{children:"...loading"}):!n||a?(console.log("error :>> ",a),we.a.toast({html:"".concat(a)}),Object(z.jsx)("div",{className:"centered",children:Object(z.jsx)("h1",{className:"red-text",children:"An Error has occurred"})})):Object(z.jsxs)("div",{className:"container",children:[Object(z.jsx)("h1",{className:"center-align",children:"Active Coupons"}),0===(null===n||void 0===n?void 0:n.getCoupons.length)?Object(z.jsx)("h4",{className:"center-align",children:"NONE"}):Object(z.jsx)(z.Fragment,{children:null===n||void 0===n?void 0:n.getCoupons.map((function(e,t){return Object(z.jsxs)("div",{className:"container",style:{display:"flex",justifyContent:"space-between"},children:[Object(z.jsx)("h4",{className:"center-align",children:n.getCoupons[t].coupon_name}),Object(z.jsxs)("h5",{className:"center-align",children:["-",n.getCoupons[t].discount?n.getCoupons[t].discount:0,"%"]}),Object(z.jsx)("i",{className:"material-icons red-text",onClick:Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({variables:{coupon_name:n.getCoupons[t].coupon_name}});case 2:e.sent.data.deleteCoupon?window.location.reload():(we.a.toast({html:"An error occured"}),we.a.toast({html:"Could not delete coupon"}));case 4:case"end":return e.stop()}}),e)}))),children:"delete"})]},t)}))}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(z.jsx)("button",{className:"btn black",onClick:function(){v(!0)},children:"Add a coupon"})}),g?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"24px"},children:Object(z.jsx)("a",{className:"dropdown-trigger btn black",href:"#","data-target":"dropdown1",children:y?Object(z.jsx)(z.Fragment,{children:"Coupon Type: Free Shipping"}):Object(z.jsx)(z.Fragment,{children:"Coupon Type: Discount"})})}),Object(z.jsxs)("ul",{id:"dropdown1",className:"dropdown-content",children:[Object(z.jsx)("li",{onClick:function(){w(!1)},children:"discount"}),Object(z.jsx)("li",{onClick:function(){w(!0),h("FREE_SHIPPING")},children:"free shipping"})]}),Object(z.jsxs)("div",{className:"row",style:{marginTop:"32px"},children:[Object(z.jsx)("div",{className:"col s6",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"coupon_name",type:"text",className:"validate",value:j,onChange:function(e){return u(e.target.value.toLowerCase())}}),Object(z.jsx)("label",{htmlFor:"coupon_name",children:"Coupon Name"}),Object(z.jsx)("span",{className:"helper-text","data-error":"Please enter a coupon name"})]})}),Object(z.jsx)("div",{className:"col s6",children:y?Object(z.jsx)(z.Fragment,{}):Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"discount",type:"text",className:"validate",minLength:0,maxLength:2,value:p,onChange:function(e){e.target.value||h("0"),e.target.value.match(/\d/g)&&h(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"discount",children:"Discount(Percentage in Numbers)"}),Object(z.jsx)("span",{className:"helper-text","data-error":"Please enter a discount amount"})]})})]}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(z.jsx)("button",{className:"btn green center-align",onClick:Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==j.length&&0!==p.length){e.next=5;break}0===j.length&&document.getElementById("coupon_name").classList.add("invalid"),y||0!==p.length||document.getElementById("discount").classList.add("invalid"),e.next=17;break;case 5:if(y){e.next=12;break}return e.next=8,s({variables:{coupon_name:j,discount:p}});case 8:e.sent.data.addCoupon?window.location.reload():(we.a.toast({html:"An error occured"}),we.a.toast({html:"Could not add coupon"})),e.next=17;break;case 12:return e.next=14,s({variables:{coupon_name:j,discount:"FREE_SHIPPING"}});case 14:t=e.sent,console.log("tmp :>> ",t),t.data.addCoupon?window.location.reload():(we.a.toast({html:"An error occured"}),we.a.toast({html:"Could not add coupon"}));case 17:case"end":return e.stop()}}),e)}))),children:"confirm"})})]}):Object(z.jsx)(z.Fragment,{})]})},Fe=function(){return Number(window.location.href.split(":")[2])},Ce=function(e){for(var t=0;t<e.length;t++)try{document.getElementById(e[t]).classList.toggle("disabled")}catch(n){}},Ie=function(){var e,t=Fe(),n=(e={variables:{product_id:t}},X.useQuery(ue,e)),c=n.data,a=n.loading,r=n.error,s=function(e){return X.useMutation(xe,e)}(),i=Object($.a)(s,1)[0],d=function(e){return X.useMutation(ae,e)}(),o=Object($.a)(d,1)[0],l=K(),j=Object($.a)(l,1)[0],u=function(e){return X.useMutation(me,e)}(),b=Object($.a)(u,1)[0],m=Object(A.useState)(""),p=Object($.a)(m,2),h=p[0],x=p[1],O=Object(A.useState)(""),g=Object($.a)(O,2),v=g[0],f=g[1],N=Object(A.useState)(""),y=Object($.a)(N,2),w=y[0],k=y[1],_=Object(A.useState)(""),F=Object($.a)(_,2),C=F[0],P=F[1],q=Object(A.useState)([]),B=Object($.a)(q,2),T=B[0],D=B[1],R=Object(A.useState)([]),U=Object($.a)(R,2),W=U[0],Q=U[1],H=Object(A.useState)(!1),J=Object($.a)(H,2),G=J[0],V=J[1];if(Object(A.useEffect)((function(){var e=document.querySelectorAll(".modal");M.Modal.init(e)})),a)return Object(z.jsx)(z.Fragment,{children:"...loading"});if(r)return Object(z.jsx)(L.a,{to:"#/products"});var Y=function(){var e=Object(S.a)(I.a.mark((function e(t){var n,c,a,r,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.toast({html:"Adding images please wait..."}),Ce(["img_btn","submit-btn","delete-button"]),n=0;case 3:if(!(n<t.length)){e.next=26;break}return(c=new FormData).append("api_key","767632178961832"),c.append("file",t[n]),c.append("tags","codeinfuse, medium, gist"),c.append("upload_preset","re5zmdqn"),a=Date.now()/1e3|0,c.append("timestamp","".concat(a)),e.prev=11,e.next=14,ve.a.post("https://api.cloudinary.com/v1_1/desimqzzy/image/upload",c,{headers:{"X-Requested-With":"XMLHttpRequest"}});case 14:r=e.sent,(s=T).push(r.data.secure_url),D(s),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),M.toast({html:"Error: ".concat(e.t0)});case 23:n++,e.next=3;break;case 26:Ce(["img_btn","submit-btn","delete-button"]),V(!G);case 28:case"end":return e.stop()}}),e,null,[[11,20]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(S.a)(I.a.mark((function e(){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{product_id:t,name:h||ee.name,desc:v||ee.desc,price:Number(w)||ee.price,stock:Number(C)||ee.stock}});case 2:n=0;case 3:if(!(n<T.length)){e.next=16;break}return e.prev=4,e.next=7,j({variables:{img_url:T[n],product_id:null===c||void 0===c?void 0:c.getProduct.product_id}});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),M.toast({html:"Error occured while trying to add an image: ".concat(e.t0)}),e.abrupt("return");case 13:n++,e.next=3;break;case 16:a=0;case 17:if(!(a<W.length)){e.next=30;break}return e.prev=18,e.next=21,b({variables:{img_id:W[a]}});case 21:e.next=27;break;case 23:return e.prev=23,e.t1=e.catch(18),M.toast({html:"Error occured while trying to remove an image: ".concat(e.t1)}),e.abrupt("return");case 27:a++,e.next=17;break;case 30:window.location.reload();case 31:case"end":return e.stop()}}),e,null,[[4,9],[18,23]])})));return function(){return e.apply(this,arguments)}}(),ee=c.getProduct;return Object(z.jsxs)("div",{className:"container",style:{width:"50%"},children:[Object(z.jsx)("div",{className:"row",children:Object(z.jsx)("h5",{children:"Edit Product"})}),Object(z.jsxs)("form",{children:[Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"name",type:"text",value:h,onChange:function(e){x(e.target.value)}}),Object(z.jsx)("label",{id:"name-label",htmlFor:"name",children:ee.name})]})}),Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("textarea",{id:"desc",value:v,className:"materialize-textarea",onChange:function(e){return f(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"desc",children:ee.desc})]})}),Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"price",type:"text",value:w,onChange:function(e){e.target.value||k(e.target.value),e.target.value.match(/\d/g)&&k(e.target.value)}}),Object(z.jsxs)("label",{htmlFor:"price",children:["$",Number(ee.price/100).toFixed(2)]})]})}),Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"stock",type:"text",value:C,onChange:function(e){e.target.value||P(e.target.value),e.target.value.match(/\d/g)&&P(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"stock",children:ee.stock})]})}),Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(z.jsx)("button",{className:"btn green",id:"submit-btn",onClick:function(){return Z()},children:"Submit"}),Object(z.jsx)(Oe.a,{onDrop:function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(z.jsxs)("span",Object(E.a)(Object(E.a)({},t()),{},{children:[Object(z.jsx)("input",Object(E.a)({},n())),Object(z.jsx)("button",{className:"btn black",id:"img_btn",children:"Add Images"})]}))}}),Object(z.jsx)("button",{className:"btn modal-trigger red",id:"delete-button","data-target":"modal1",children:"Delete"})]}),Object(z.jsxs)("div",{className:"products-grid",style:{marginTop:"32px"},children:[null===c||void 0===c?void 0:c.getProduct.images.map((function(e,t){return Object(z.jsxs)("div",{className:"card",style:{margin:"0px 16px 32px 16px"},id:"card-".concat(t),children:[Object(z.jsx)("span",{className:"close-icon noselect",onClick:Object(S.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=W).push(c.getProduct.images[t].img_id),Q(n),document.getElementById("card-".concat(t)).style.display="none";case 4:case"end":return e.stop()}}),e)}))),children:Object(z.jsx)("i",{className:"material-icons white-text",children:"close"})}),Object(z.jsx)("div",{className:"card-image noselect",children:Object(z.jsx)("img",{src:(null===c||void 0===c?void 0:c.getProduct.images[t].img_url)||"https://materializecss.com/images/sample-1.jpg"})})]},t)})),0===T.length?Object(z.jsx)(z.Fragment,{}):Object(z.jsx)(z.Fragment,{children:T.map((function(e,t){return Object(z.jsx)("div",{className:"card",style:{margin:"0px 16px 32px 16px"},children:Object(z.jsx)("div",{className:"card-image noselect",children:Object(z.jsx)("img",{src:T[t]})})})}))})]})]}),Object(z.jsxs)("div",{id:"modal1",className:"modal",children:[Object(z.jsxs)("div",{className:"modal-content",children:[Object(z.jsx)("h4",{children:"Are you sure you want to delete this product?"}),Object(z.jsx)("p",{children:"This will also delete all of the users orders."})]}),Object(z.jsx)("div",{className:"modal-footer",children:Object(z.jsx)("button",{id:"delete-button",className:"btn right red",onClick:Object(S.a)(I.a.mark((function e(){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce(["delete-button"]),e.next=3,o({variables:{product_id:t}});case 3:c=e.sent,(null===(n=c.data)||void 0===n?void 0:n.deleteProduct)?window.location.reload():(M.toast({html:"Could not delete product"}),Ce(["delete-button"]));case 5:case"end":return e.stop()}}),e)}))),children:"Delete Product"})})]})]})},Se=n(55),$e=function(e){var t=e.listId,n=e.listType,c=e.colors;return Object(z.jsx)(Se.c,{droppableId:t,type:n,direction:"horizontal",isCombineEnabled:!1,children:function(e){return Object(z.jsx)("div",Object(E.a)(Object(E.a)({},e.droppableProps),{},{children:Object(z.jsx)("div",{children:Object(z.jsx)("div",{children:Object(z.jsxs)("div",{style:{display:"flex"},ref:e.innerRef,children:[c.map((function(e,t){return Object(z.jsx)(Se.b,{draggableId:e,index:t,children:function(t){return Object(z.jsx)("div",Object(E.a)(Object(E.a)(Object(E.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:Object(z.jsx)("div",{style:{backgroundColor:e},children:e})}))}},e)})),e.placeholder]})})})}))}})},Ae=n(47),Pe=n(77),qe=function(e,t,n){var c,a=Object(Pe.a)(e[t.droppableId]),r=Object(Pe.a)(e[n.droppableId]),s=a[t.index];if(t.droppableId===n.droppableId){var i=function(e,t,n){var c=Array.from(e),a=c.splice(t,1),r=Object($.a)(a,1)[0];return c.splice(n,0,r),c}(a,t.index,n.index);return Object(E.a)(Object(E.a)({},e),{},Object(Ae.a)({},t.droppableId,i))}return a.splice(t.index,1),r.splice(n.index,0,s),Object(E.a)(Object(E.a)({},e),{},(c={},Object(Ae.a)(c,t.droppableId,a),Object(Ae.a)(c,n.droppableId,r),c))},Be=function(){var e=Object(A.useState)({a:["blue","red","yellow"],b:["pink"],c:["green","tan"]}),t=Object($.a)(e,2),n=t[0],c=t[1];return Object(z.jsx)(Se.a,{onDragEnd:function(e){var t=e.destination,a=e.source;t&&c(qe(n,a,t))},children:Object(z.jsx)("div",{children:Object.entries(n).map((function(e){var t=Object($.a)(e,2),n=t[0],c=t[1];return Object(z.jsx)($e,{internalScroll:!0,listId:n,listType:"CARD",colors:c},n)}))})})},Ee=(n(141),function(){var e,t=X.useQuery(ie,e),n=t.data,c=t.loading,a=t.error,r=function(e){return X.useMutation(ne,e)}(),s=Object($.a)(r,1)[0],i=function(e){return X.useMutation(G,e)}(),d=Object($.a)(i,1)[0],o=Object(A.useState)(""),l=Object($.a)(o,2),j=l[0],u=l[1],b=Object(A.useState)(""),m=Object($.a)(b,2),p=m[0],h=m[1];return c?Object(z.jsx)(z.Fragment,{children:"...loading"}):!n||a?Object(z.jsx)(z.Fragment,{children:"An error has occurred"}):(console.log("data :>> ",n),Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("div",{className:"center-align table-wrapper",children:[Object(z.jsx)("span",{className:"table-header z-depth-2",children:Object(z.jsx)("h3",{className:"white-text noselect",children:"Api Users"})}),Object(z.jsxs)("span",{className:"table-body z-depth-1",children:[Object(z.jsx)("div",{className:"container",children:Object(z.jsx)("table",{className:"striped responsive",children:Object(z.jsxs)("tbody",{children:[Object(z.jsxs)("tr",{children:[Object(z.jsx)("th",{}),Object(z.jsx)("th",{children:"Username"}),Object(z.jsx)("th",{}),Object(z.jsx)("th",{})]}),n.getApiUsers.map((function(e,t){return Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{}),Object(z.jsx)("td",{children:n.getApiUsers[t].username}),Object(z.jsx)("td",{children:Object(z.jsx)("i",{className:"material-icons red-text noselect",onClick:Object(S.a)(I.a.mark((function e(){var c,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({variables:{uuid:n.getApiUsers[t].uuid}});case 2:a=e.sent,(null===(c=a.data)||void 0===c?void 0:c.deleteApiUser)?window.location.reload():M.toast({html:"An Error has occured"});case 4:case"end":return e.stop()}}),e)}))),children:"delete"})}),Object(z.jsx)("td",{})]},t)}))]})})}),Object(z.jsx)("div",{className:"divider"}),Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)("div",{className:"col s4",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"username",type:"text",className:"validate",value:j,onChange:function(e){return u(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"username",children:"Username"}),Object(z.jsx)("span",{id:"coupon-helper",className:"helper-text","data-error":"Please enter a username"})]})}),Object(z.jsx)("div",{className:"col s4",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"pass",type:"text",className:"validate",value:p,onChange:function(e){return h(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"pass",children:"Password"}),Object(z.jsx)("span",{id:"coupon-helper",className:"helper-text","data-error":"Please enter a password"})]})}),Object(z.jsx)("div",{className:"col s3",children:Object(z.jsx)("button",{style:{width:"100%"},className:"btn right footerBtn green",onClick:Object(S.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("pass").classList.remove("invalid"),document.getElementById("username").classList.remove("invalid"),p&&j){e.next=7;break}p||document.getElementById("pass").classList.add("invalid"),j||document.getElementById("username").classList.add("invalid"),e.next=11;break;case 7:return e.next=9,d({variables:{username:j,password:p}});case 9:n=e.sent,(null===(t=n.data)||void 0===t?void 0:t.addApiUser)?window.location.reload():M.toast({html:"An Error has occurred"});case 11:case"end":return e.stop()}}),e)}))),children:"Create a user"})})]})]})]})})}))}),Me=function(){var e,t=X.useQuery(oe,e),n=t.data,c=t.loading,a=t.error,r=function(e){return X.useMutation(he,e)}(),s=Object($.a)(r,1)[0];return c?Object(z.jsx)(z.Fragment,{children:"...loading"}):!n||a?Object(z.jsx)("div",{className:"container",children:Object(z.jsx)("h5",{children:"Maintenance: ERR"})}):Object(z.jsx)("div",{className:"container",children:Object(z.jsx)("div",{className:"centered",style:{marginTop:"32px"},children:Object(z.jsx)("h4",{children:Object(z.jsxs)("span",{className:"switch",children:["Maintenance:"," ",n.getMaintenance?Object(z.jsxs)("label",{children:["Off",Object(z.jsx)("input",{type:"checkbox",checked:!0}),Object(z.jsx)("span",{className:"lever",onClick:Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))}),"On"]}):Object(z.jsxs)("label",{children:["Off",Object(z.jsx)("input",{type:"checkbox"}),Object(z.jsx)("span",{className:"lever",onClick:Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))}),"On"]})]})})})})},Te=function(){return console.log("gettings order id"),window.location.href.split(":")[2]},Le=function(){var e,t=Object(A.useMemo)((function(){return Te()}),[Te]),n=(e={variables:{order_id:Number(t)}},X.useQuery(le,e)),c=n.data,a=n.loading,r=n.error,s=function(e){return X.useMutation(pe,e)}(),i=Object($.a)(s,1)[0],d=Object(A.useState)(!1),o=Object($.a)(d,2),l=o[0],j=o[1];if(Object(A.useEffect)((function(){var e=document.querySelectorAll(".modal");M.Modal.init(e)})),a)return Object(z.jsx)(z.Fragment,{children:"...loading"});if(!c)return Object(z.jsx)("div",{className:"centered",children:Object(z.jsx)("h3",{children:"No data was found"})});if(r)return Object(z.jsxs)("div",{className:"centered",children:[Object(z.jsx)("h3",{children:"An Error has occured."}),Object(z.jsx)("h3",{children:r.message})]});console.log("data :>> ",c);var u,b,m=function(e){for(var t=0,n=100,c=0;c<e.length;c++)t+=e[c].productSubtotal,console.log("products[i].quantityOrdered :>> ",e[c].quantityOrdered),n+=50*e[c].quantityOrdered;return n>500&&(n=500),{productsSubtotal:Number(t/100).toFixed(2),shippingTotal:Number(n/100).toFixed(2)}}(c.getOrderById.products),p=m.productsSubtotal,h=m.shippingTotal,x=Number(c.getOrderById.order_total*Number("0."+c.getOrderById.discount)/100).toFixed(2);c.getOrderById.date_of_purchase&&(u=c.getOrderById.date_of_purchase.split(" "),b="".concat(u[0]," ").concat(u[1]," ").concat(u[2]," ").concat(u[3]));var O=JSON.parse(c.getOrderById.shipping);return Object(z.jsxs)("div",{className:"container",children:[c.getOrderById.warning?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{id:"modal1",className:"modal",children:[Object(z.jsx)("div",{className:"modal-content",children:Object(z.jsx)("h4",{children:"Are you sure you want to remove this warning?"})}),Object(z.jsx)("div",{className:"modal-footer",children:Object(z.jsx)("a",{href:"#!",className:"modal-close btn red",onClick:Object(S.a)(I.a.mark((function e(){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{order_id:Number(t)}});case 2:c=e.sent,(null===(n=c.data)||void 0===n?void 0:n.removeWarning)?window.location.reload():(M.toast({html:"An Error has occurred"}),M.toast({html:"Please try again later or contact me on discord"}));case 4:case"end":return e.stop()}}),e)}))),children:"Remove"})})]}),Object(z.jsx)("div",{className:"row",children:Object(z.jsx)("div",{className:"col s12 ",children:Object(z.jsx)("div",{className:"card",children:Object(z.jsxs)("div",{className:"card-content",children:[Object(z.jsxs)("span",{className:"card-title ",style:{fontWeight:"bold"},children:[Object(z.jsx)("span",{className:"red-text",children:c.getOrderById.warning}),Object(z.jsx)("span",{className:"right",children:Object(z.jsx)("a",{className:"btn modal-trigger black",href:"#modal1",children:"Remove Warning"})})]}),Object(z.jsx)("p",{className:"flow-text bold",children:"What to do:"}),Object(z.jsx)("p",{className:"flow-text",style:{marginLeft:"32px"},children:"Double check the order. Ensure the customer paid the correct amount"}),Object(z.jsx)("p",{className:"flow-text",style:{marginLeft:"32px"},children:"This error will be thrown anytime there is the slightest difference in calculations."}),Object(z.jsx)("p",{className:"flow-text",style:{marginLeft:"32px"},children:"If the difference is greater than a couple of pennies please contact me through discord."})]})})})})]}):Object(z.jsx)(z.Fragment,{}),l?Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{className:"row",children:Object(z.jsx)("div",{className:"col offset-s6 s6",children:Object(z.jsx)("div",{className:"card",children:Object(z.jsx)("div",{className:"card-content",children:Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"col s10 offset-s1",children:[Object(z.jsx)("span",{className:"card-title",children:"Order Summary"}),Object(z.jsx)("div",{className:"divider",style:{marginTop:"4px",marginBottom:"4px"}}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"left",children:"Products Total"}),Object(z.jsxs)("span",{className:"right",children:["$",p]})]}),Object(z.jsx)("br",{}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"left",children:"Tax"}),Object(z.jsxs)("span",{className:"right",children:["$",Number(.095*Number(p)).toFixed(2)]})]}),Object(z.jsx)("br",{}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"left",children:"Shipping"}),Object(z.jsxs)("span",{className:"right",children:["$",h]})]}),Object(z.jsx)("br",{}),Object(z.jsx)(z.Fragment,{children:c.getOrderById.coupon?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"divider",style:{marginTop:"4px",marginBottom:"4px"}}),Object(z.jsxs)("span",{className:"left",children:["Coupon(",c.getOrderById.coupon,")"]}),Object(z.jsxs)("span",{className:"right",children:[c.getOrderById.discount,"% (",Object(z.jsxs)("span",{className:"red-text bold",children:["-$",x]}),")"]})]}):Object(z.jsx)(z.Fragment,{})}),Object(z.jsx)("br",{}),Object(z.jsx)("div",{className:"divider",style:{marginTop:"4px",marginBottom:"4px"}}),Object(z.jsx)("span",{className:"left bold",children:"Order Total"}),Object(z.jsxs)("span",{className:"right bold",children:["$",Number(c.getOrderById.order_total/100).toFixed(2)]})]})})})})})})}):Object(z.jsx)(z.Fragment,{}),Object(z.jsx)("div",{style:{marginTop:"16px"},children:Object(z.jsx)("div",{className:"row z-depth-1",children:Object(z.jsxs)("div",{className:"col s12",style:{padding:"0px",backgroundColor:"white"},children:[Object(z.jsxs)("div",{className:"card-header row",style:{borderLeft:"5px solid #ff0000",paddingTop:"13px",paddingBottom:"13px",paddingRight:"25px",paddingLeft:"20px",margin:"0px",zIndex:4,position:"relative"},children:[Object(z.jsxs)("span",{className:"hide-on-small-only",style:{display:"inline-block",width:"41.7%"},children:[Object(z.jsx)("span",{style:{color:"#1d252c",paddingRight:"1rem",fontWeight:700},children:"Order ID"}),Object(z.jsxs)("span",{children:["CR-",c.getOrderById.order_id]})]}),Object(z.jsxs)("span",{className:"hide-on-med-and-up",style:{display:"inline-block",width:"50%"},children:[Object(z.jsx)("span",{style:{color:"#1d252c",paddingRight:"1rem",fontWeight:700},children:"Order ID"}),Object(z.jsxs)("span",{children:["CR-",c.getOrderById.order_id]})]}),Object(z.jsx)("span",{style:{display:"inline-block",width:"17%"},className:"hide-on-med-and-down",children:c.getOrderById.date_of_purchase?Object(z.jsx)("span",{children:b}):Object(z.jsx)(z.Fragment,{})}),Object(z.jsx)("span",{style:{display:"inline-block",width:"30.3%",fontWeight:700},children:Object(z.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:[Object(z.jsxs)("span",{children:["$",Number(c.getOrderById.order_total/100).toFixed(2)," ",c.getOrderById.discount?Object(z.jsxs)("span",{children:["(",Object(z.jsxs)("span",{style:{color:"rgb(255, 0, 0)"},children:["-$",x]}),")"]}):Object(z.jsx)(z.Fragment,{})]}),Object(z.jsx)("span",{children:Object(z.jsx)("span",{style:{color:"#0457c8"},className:"right",onClick:function(){return j(!l)},children:"Payment Details"})})]})})]}),Object(z.jsx)("div",{className:"divider"}),Object(z.jsx)("div",{className:"card-body",style:{backgroundColor:"white",zIndex:2,position:"relative"},children:c.getOrderById.products.map((function(e,t){return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)("div",{className:"col m4",children:Object(z.jsx)("img",{style:{width:"100%"},src:c.getOrderById.products[t].images[0].img_url})}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",paddingLeft:0},className:"col m2 offset-m1 hide-on-small-only",children:[Object(z.jsx)("p",{className:"flow-text",style:{fontSize:"16px",fontWeight:"bold"},children:c.getOrderById.products[t].name}),Object(z.jsxs)("p",{className:"hide-on-small-only",children:["Qty:"," ",c.getOrderById.products[t].quantityOrdered," ","($",Number(c.getOrderById.products[t].productSubtotal/100).toFixed(2)," ",1===c.getOrderById.products[t].quantityOrdered?Object(z.jsx)(z.Fragment,{}):Object(z.jsxs)(z.Fragment,{children:["@ $",Number(c.getOrderById.products[t].price/100).toFixed(2)," ","each"]}),")"]})]}),Object(z.jsx)("div",{className:"col offset-m1 m3",children:Object(z.jsx)(z.Fragment,{children:0===t?Object(z.jsx)(z.Fragment,{children:O?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("p",{className:"bold",children:[O.name?Object(z.jsx)(z.Fragment,{children:O.name}):Object(z.jsx)(z.Fragment,{children:"No shipping information was found, check paypal, or contact the user."}),Object(z.jsx)("br",{}),O.line1,Object(z.jsx)("br",{}),O.city,","," ",O.state," ",O.postal_code,Object(z.jsx)("br",{}),O.country]}),Object(z.jsx)("div",{style:{width:"100%",borderBottom:" 4px solid #ff0000"}})]}):Object(z.jsx)(z.Fragment,{children:" "})}):Object(z.jsx)(z.Fragment,{children:" "})})}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center"},className:"col s12 hide-on-med-and-up",children:Object(z.jsx)("p",{className:"flow-text",style:{fontSize:"16px",fontWeight:"bold"},children:c.getOrderById.products[t].name})})]},t)})}))})]})})})]})},De=function(){var e,t=X.useQuery(je,e),n=t.data,c=t.loading,a=t.error,r=function(e){return X.useMutation(re,e)}(),s=Object($.a)(r,1)[0],i=Object(A.useState)({tracking:[]}),d=Object($.a)(i,2),o=d[0],l=d[1];return c?Object(z.jsx)(z.Fragment,{children:"...loading"}):!n||a?(console.log("error :>> ",a),M.toast({html:"".concat(a)}),Object(z.jsx)("div",{className:"centered",children:Object(z.jsx)("h1",{className:"red-text",children:"An Error has occurred"})})):(console.log("data :>> ",n),n.getOrders.reverse(),Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("table",{children:[Object(z.jsx)("thead",{children:Object(z.jsxs)("tr",{children:[Object(z.jsx)("th",{children:"Order ID"}),Object(z.jsx)("th",{children:"Tracking Number"}),Object(z.jsx)("th",{children:"Products Ordered"}),Object(z.jsx)("th",{children:"Order Total"})]})}),Object(z.jsx)("tbody",{children:n.getOrders.map((function(e,t){var c=null===n||void 0===n?void 0:n.getOrders[t];return c.warning&&M.toast({html:"Order #".concat(c.order_id," has a warning")}),Object(z.jsxs)("tr",{className:c.warning?"red":"",children:[Object(z.jsx)("td",{children:null===c||void 0===c?void 0:c.order_id}),Object(z.jsx)("td",{children:Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)("div",{className:"col s7",children:Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"tracking-".concat(t),type:"text",value:o.tracking[t],onChange:function(e){var n=o.tracking;n[t]=e.target.value,l(Object(E.a)(Object(E.a)({},o),{},{tracking:n}))}}),Object(z.jsx)("label",{htmlFor:"tracking-".concat(t),children:(null===c||void 0===c?void 0:c.tracking_num)?Object(z.jsx)(z.Fragment,{children:c.tracking_num}):Object(z.jsx)(z.Fragment,{children:"NONE"})})]})})}),Object(z.jsx)("div",{className:"col s4 offset-s1",style:{marginTop:"25px"},children:Object(z.jsx)("button",{className:"btn black",onClick:Object(S.a)(I.a.mark((function e(){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.tracking[t]){e.next=7;break}return e.next=3,s({variables:{order_id:c.order_id,new_tracking_num:o.tracking[t]}});case 3:(n=e.sent)&&(null===(a=n.data)||void 0===a?void 0:a.editTracking)?window.location.reload():(M.toast({html:"Failed"}),M.toast({html:"Contact me on discord"})),e.next=8;break;case 7:console.log("undefined");case 8:case"end":return e.stop()}}),e)}))),children:"Submit"})})]})}),Object(z.jsx)("td",{children:null===c||void 0===c?void 0:c.products.map((function(e,t){return Object(z.jsxs)("div",{className:"row",children:[c.products[t].name," x"," ",c.products[t].quantityOrdered]},t)}))}),Object(z.jsxs)("td",{children:["$",Number(c.order_total/100).toFixed(2)]}),Object(z.jsx)("td",{children:Object(z.jsx)("a",{href:"#/order-details:".concat(c.order_id),children:"See Details"})})]},t)}))})]})}))},ze=(n(142),function(){var e=Object(L.g)();e.state&&e.state.reload&&window.location.reload();var t,n=X.useQuery(be,t),c=n.data,a=n.loading,r=n.error;return a?Object(z.jsx)(z.Fragment,{children:"...loading"}):!c||r?(console.log("error :>> ",r),M.toast({html:"".concat(r)}),Object(z.jsx)("div",{className:"centered",children:Object(z.jsx)("h1",{className:"red-text",children:"An Error has occurred"})})):(console.log("data",c),Object(z.jsxs)("div",{className:"container",style:{marginTop:"50px"},children:[Object(z.jsx)("nav",{className:"z-depth-0 black-text ",style:{backgroundColor:"transparent"},children:Object(z.jsxs)("div",{className:"nav-wrapper",children:[Object(z.jsx)("h5",{className:"left",style:{marginBottom:"48px",marginLeft:"16px",marginRight:"16px",fontWeight:"bold",fontSize:"26px",color:"#14161a"},children:"Products"}),Object(z.jsx)("ul",{className:"right",children:Object(z.jsx)("li",{children:Object(z.jsx)("a",{href:"#/add-products",children:Object(z.jsx)("i",{className:"material-icons black-text",children:"add"})})})})]})}),Object(z.jsx)("div",{className:"products-grid",children:null===c||void 0===c?void 0:c.getProducts.map((function(e,t){var n=c.getProducts[t];return Object(z.jsxs)("div",{className:"card",style:{margin:"0px 16px 32px 16px"},children:[Object(z.jsxs)("div",{className:"card-image",children:[n.images[0]&&n.images[0].img_url?Object(z.jsx)("img",{src:n.images[0].img_url,style:{maxHeight:"280px"}}):Object(z.jsx)("img",{src:"https://materializecss.com/images/sample-1.jpg"}),Object(z.jsx)("a",{href:"#/edit-product:".concat(n.product_id),className:"btn-floating btn-large halfway-fab large blue-grey darken-4",children:Object(z.jsx)("i",{className:" large material-icons",children:"edit"})})]}),Object(z.jsxs)("div",{className:"card-content",children:[Object(z.jsx)("span",{className:"card-title",children:n.name}),Object(z.jsxs)("p",{className:"product-price",children:["$",Number(n.price/100).toFixed(2)]}),Object(z.jsx)("p",{children:n.desc})]})]},t)}))})]}))}),Re=function(){return Object(z.jsxs)(L.d,{children:[Object(z.jsx)(U,{exact:!0,path:"/orders",component:De}),Object(z.jsx)(U,{exact:!0,path:"/products",component:ze}),Object(z.jsx)(U,{exact:!0,path:"/add-products",component:fe}),Object(z.jsx)(U,{exact:!0,path:"/edit-product:id",component:Ie}),Object(z.jsx)(U,{exact:!0,path:"/coupons",component:_e}),Object(z.jsx)(U,{exact:!0,path:"/announcements",component:ke}),Object(z.jsx)(U,{exact:!0,path:"/maintenance",component:Me}),Object(z.jsx)(U,{exact:!0,path:"/edit-socials",component:Be}),Object(z.jsx)(U,{exact:!0,path:"/order-details:id",component:Le}),Object(z.jsx)(U,{exact:!0,path:"/edit-users",component:Ee}),Object(z.jsx)(L.b,{render:function(){return Object(z.jsx)(L.a,{to:"/products"})}})]})},Ue=function(){var e,t=Object(A.useState)(""),n=Object($.a)(t,2),c=n[0],a=n[1],r=Object(A.useState)(""),s=Object($.a)(r,2),i=s[0],d=s[1],o=X.useMutation(ee,e),l=Object($.a)(o,1)[0],j=function(){var e=Object(S.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{username:c,password:i}});case 3:t=e.sent,console.log("res :>> ",t),t&&t.data&&(n=t.data.apiLogin.accessToken,q(n),localStorage.setItem("urd",t.data.apiLogin.refreshToken),window.location.reload()),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err :>> ",e.t0),we.a.toast({html:"Failed Login"}),we.a.toast({html:"server is likely down"});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsx)("div",{className:"login-wrapper",style:{backgroundColor:"#000",minHeight:"100vh",minWidth:"100vw"},children:Object(z.jsx)("div",{className:"container",children:Object(z.jsx)("div",{className:"row",children:Object(z.jsx)("div",{className:"col s12",children:Object(z.jsx)("div",{className:"card",children:Object(z.jsx)("div",{className:"card-content",children:Object(z.jsxs)("div",{children:[Object(z.jsx)("h5",{className:"center-align",children:"Login"}),Object(z.jsxs)("form",{children:[Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"username",type:"text",value:c,onChange:function(e){return a(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"username",children:"Username"})]})}),Object(z.jsx)("div",{className:"row",children:Object(z.jsxs)("div",{className:"input-field",children:[Object(z.jsx)("input",{id:"password",type:"password",value:i,onChange:function(e){return d(e.target.value)}}),Object(z.jsx)("label",{htmlFor:"password",children:"Password"})]})}),Object(z.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:Object(z.jsx)("button",{className:"btn",style:{minWidth:"150px",backgroundColor:"#4285f4",color:"#fff"},onClick:function(){return j()},children:"Login"})})]})]})})})})})})})},We=n(44),Qe=function(){return Object(z.jsx)(We.a,{children:Object(z.jsx)("div",{className:"App",children:R()?Object(z.jsx)(Q,{children:Object(z.jsx)(Re,{})}):Object(z.jsxs)(L.d,{children:[Object(z.jsx)(L.b,{exact:!0,path:"/login",component:Ue}),Object(z.jsx)(L.b,{render:function(){return Object(z.jsx)(L.a,{to:"/login"})}})]})})})},He="https://infinite-bayou-56493.herokuapp.com",Xe=function(){var e=Object(A.useState)(!0),t=Object($.a)(e,2),n=t[0],c=t[1];return Object(A.useEffect)((function(){var e=localStorage.getItem("urd");fetch("".concat(He,"/api_refresh_token"),{method:"POST",credentials:"include",headers:{refreshToken:e}}).then(function(){var e=Object(S.a)(I.a.mark((function e(t){var n,a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,a=n.accessToken,r=n.refreshToken,q(a),localStorage.setItem("urd",r),c(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),n?Object(z.jsx)(z.Fragment,{children:"loading.."}):Object(z.jsx)(Qe,{})},Je=n(103),Ge=n(105),Ve=n(25),Ye=n(22),Ke=n(107),Ze=n(104),et=n(106),tt=new Ge.a({}),nt=new Ve.a((function(e,t){return new Ye.a((function(n){var c;return Promise.resolve(e).then((function(e){var t=B();e.setContext({headers:{authorization:t?"bearer ".concat(t):""}})})).then((function(){c=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){c&&c.unsubscribe()}}))})),ct=new Je.a({link:Ve.a.from([new et.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=B();if(!e)return!0;try{var t=Object(D.a)(e).exp;return!(Date.now()>=1e3*t)}catch(n){return!1}},fetchAccessToken:function(){return fetch("".concat(He,"/refresh_token"),{method:"POST",credentials:"include"})},handleFetch:function(e){q(e)},handleError:function(e){console.warn("Your refresh token is invalid, Try to relogin"),console.error(e)}}),Object(Ze.a)((function(e){var t=e.graphQLErrors,n=e.networkError;console.log(t),console.log(n)})),nt,new Ke.a({uri:"".concat(He,"/graphql"),credentials:"include"})]),cache:tt});F.a.render(Object(z.jsx)(X.ApolloProvider,{client:ct,children:Object(z.jsx)(Xe,{})}),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.568c0bca.chunk.js.map